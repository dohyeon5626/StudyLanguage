# 람다 표현식

메서드를 하나의 식으로 간단하게 표현한 것
익명 함수를 생성하기 위한 식

```java
int min(int x, int y) { // 이런 메서드를 
    return x < y ? x : y;
}

(x, y) -> x < y ? x : y; // 이렇게 간단하게 나타내는 것
```

클래스의 선언과 동시에 객체를 생성하므로 자바에서 람다 표현식은 익명 클래스와 같다고 할 수 있음

```java
// 람다 표현식
(x, y) -> x < y ? x : y;
// 익명 클래스
new Object() {
    int min(int x, int y) {
        return x < y ? x : y;
    }
}
```

람다식의 형태는 매개변수를 가진 코드 블록이지만, 런타임 시에는 인터페이스의 익명 구현 객체를 생성함

```java
Runnable runnable = new Runnable(){ // 익명 구현 객체
    public void run(){}
};
Runnable runnable = ()->{}; // 람다식
```



### 문법

```java
(매개변수목록)->{ 함수몸체 }
```

기본적으로 매개변수의 타입을 추론할 수 있으면 타입을 생략 가능

매개변수가 하나일 경우에는 괄호생략 가능

```java
a->{ 함수몸체 }
```

함수의 몸체가 하나의 명령문으로만 이루어진 경우 중괄호 생략 가능 

```java
(a,b)-> k=a+b // 세미콜론은 붙이지 않음
(a,b)-> {return a+b;} // return문으로만 이루어지면 중괄호 생략 불가능
(a,b)-> a+b // return문으로만 이루어지면 return문 생략 가능
```

매개변수가 없다면 괄호를 쳐야함

```java
()->{ 함수몸체 }
```



### 타겟 타입

람다식에 대입될 인터페이스
람다식은 인터페이스 변수에 대입됨

```java
인터페이스 변수 = 람다식;
```



### 함수적 인터페이스

모든 인터페이스를 람다식의 타겟 타입으로 사용할 수 없음
람다식이 하나의 메서드를 정의하기 때문에 두 개 이상의 추상 메서드가 선언된 인터페이스는 람다식을 이용할 수 없음
하나의 추상 메서드가 선언되어 람다식의 타겟 타입이 될 수 있는 인터페이스를 함수적 인터페이스라고 함
함수적 인터페이스를 작성할 때 두 개 이상의 추상 메서드가 선언되지 않도록 컴파일러가 체크해주는 기능이 있는데, 인터페이스 선언할 때 `@FunctionalInterface`를 붙이면 됨 (두 개 이상의 추상 메서드가 선언되면 컴파일 오류를 일으킴)

```java
@FunctionalInterface
public interface test{
    public void method();
    public void Errormethod(); // 컴파일 오류
}
```



### this

람다식에서 `this`는 내부적으로 생성되는 익명 객체의 참조가 아니라 람다식을 실행한 객체의 참조
람다식 실행 블록에는 클래스의 멤버를 제약 사항없이 사용할 수 있지만 `this`를 이용할 경우에는 주의가 필요함