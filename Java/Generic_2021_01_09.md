# Generic

클래스 내부에서 사용할 데이터 타입을 외부에서 지정하는 기법
다양한 타입의 객체들을 다루는 메서드나 컬렉션 클래스에 컴파일 시의 타입체크를 해주는 기능
JDK 1.5에서 처음 도입되었음

-> 하나의 코드를 다양한 데이터 타입에 대해 사용가능

```java
public class Box<T>{
    private T t;
    public T get(){return t;}
    public void set(T t){ this.t = t;}
}
```

위 코드로 제네릭을 사용하고

```java
Box<String> box = new Box<String>();
```

이런식으로 타입을 지정해주면

```java
public class Box<String>{
    private String t;
    public String get(){return t;}
    public void set(String t){ this.t = t;}
}
```

이렇게 재구성됨

### 사용하는 이유

- **컴파일 시 강한 타입체크를 할 수 있음**

코드에서 잘못 사용된 타입 때문에 발생하는 문제점을 제거하기 위해 제네릭 코드에 대해 강한 타입 체크를 함

- **타입 변환을 제거함**

계속해서 타입변환을 하게 된다면 프로그램 성능에 큰 영향을 주기 때문에 제네릭을 사용함

```java
ArrayList list = new ArrayList(); //제네릭을 사용하지 않을경우
list.add("test");
String temp = (String) list.get(0); //타입변환이 필요함
        
ArrayList<String> list2 = new ArrayList(); //제네릭을 사용할 경우
list2.add("test");
temp = list2.get(0); //타입변환이 필요없음
```

### 사용법

```java
public class 클래스명<타입파라미터> {...}
public interface 인터페이스명<타입파라미터> {...}
```

> 타입 파라미터는 정해진 규칙은 없지만 일반적으로 대문자 알파벳 한글자로 표현함

| 자주 사용하는 타입파라미터 | 타입파라미터 |
| -------------------------- | ------------ |
| <T>                        | Type         |
| <E>                        | Element      |
| <K>                        | Key          |
| <N>                        | Number       |
| <V>                        | Value        |
| <R>                        | Result       |

#### 멀티 타입 파라미터

만약 타입파라미터를 한개가 아니라 두 개 이상, **멀티 타입 파라미터**를 사용하고자 한다면

```java
public class 클래스명<타입파라미터, 타입파라미터> {...}
public interface 인터페이스명<타입파라미터, 타입파라미터> {...}
```

이런 식으로 반점으로 구분하여 사용함

#### 제네릭 메서드

또한, 매개 타입과 리턴 타입으로 타입 파라미터를 갖는 메서드, **제네릭 메서드**를 사용하고자 한다면

```java
public <타입파라미터, ...> 리턴타입 메서드명(매개변수,...){}
```

이렇게 씀, 호출을 할때는

```java
리턴타입 변수명 = <구체적타입> 메소드명(매개값);
리턴타입 변수명 = 메소드명(매개값); // 매개값에 따라 구체적 타입을 결정함
```

#### 와일드카드 타입

코드에서 `?`를 일반적으로 와일드카드라고 부름
제네릭 타입을 매개값이나 리턴 타입으로 사용할 때 구체적인 타입 대신에 와일드카드를 다음과 같이 세 가지 형태로 사용가능

타입 파라미터에 지정되는 구체적인 타입을 제한할 필요가 있을 때 쓰임

**`제네릭타입<?>` :** 타입 파라미터를 대치하는 것으로 모든 클래스나 인터페이스타입이 올 수 있음
**`제네릭타입<? extends 상위타입>` :** 와일드카드의 범위를 특정 객체의 하위 클래스만 올 수 있음
**`제네릭타입<? super 하위타입>` :** 와일드카드의 범위를 특정 객체의 상위 클래스만 올 수 있음

#### 제네릭타입 상속

제네릭 타입도 다른 클래스처럼 상속이 가능
부모 제네릭 타입에서 상속받은 자식 제네릭 타입은 추가적인 타입 파라미터를 가질 수 있음

```
public class ChildProduct<T, M C> extends Product<T, M>{...}
```

> 참고로 제네릭 인터페이스를 구현한 클래스도 제네릭 타입이 되어야 함